<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Stefan Daume">
  <title>SRC PhD R course Module 9</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./reveal.js-3.6.0/css/reveal.css">
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="./custom_highlight.js-9.12.0/styles/zenburn.css">
  <script src="./custom_highlight.js-9.12.0/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="./reveal.js-3.6.0/css/theme/white.css" id="theme">
  <link rel="stylesheet" href="./css/mycustom_v3.css"/>
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? './reveal.js-3.6.0/css/print/pdf.css' : './reveal.js-3.6.0/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="./reveal.js-3.6.0/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">SRC PhD R course Module 9</h1>
  <p class="subtitle">Structural Topic Modeling</p>
  <p class="author">Stefan Daume</p>
  <p class="date">16. March 2023</p>
</section>

<section id="section" class="slide level2 hideslideheader" data-background="#061C30">
<h2> </h2>
<div style="display:table;width:100%;table-layout: fixed;">
<div class="title-without-logo" style="display:table-cell;width:100%;padding-right:3%;padding-left:3%;vertical-align:middle;">
<p>SRC PhD R course Module 9</p>
<p>Structural Topic Modeling</p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
</div>
</div>
<div style="display:table;width:100%;table-layout: fixed;">
<div class="mytitlepage linksection" style="display:table-cell;width:30%;padding-left:3%;vertical-align:bottom;">
<p><em><a href="https://twitter.com/stefandaume">@stefandaume</a></em></p>
<p><em><a href="https://scitingly.net/" class="uri">https://scitingly.net/</a></em></p>
<p><em><a href="mailto:stefan.daume@su.se" class="email">stefan.daume@su.se</a></em></p>
</div>
<div class="mytitlepage authorsection" style="display:table-cell;width:70%;padding-right:3%;">
<p>  <strong>Stefan Daume</strong></p>
<p><em><a href="https://www.stockholmresilience.org/meet-our-team/staff/2021-01-27-daume.html">Stockholm Resilience Centre, Stockholm University</a></em></p>
<p>&amp; <em><a href="https://beijer.kva.se/programmes/complexity/">Beijer Institute of Ecological Economics</a></em></p>
<p> </p>
<p><em>16. March 2023</em></p>
</div>
</div>
</section>
<section id="why-topic-modelling" class="slide level2">
<h2>Why topic modelling?</h2>
<ul>
<li>summarize large text collections</li>
<li>discover “latent” topics</li>
<li>text-based causal inferences and testing social science theories</li>
</ul>
</section>
<section id="the-notion-of-latent-topics" class="slide level2">
<h2>The notion of “latent topics”</h2>
</section>
<section id="how-does-it-work" class="slide level2">
<h2>How does it work?</h2>
<ul>
<li>unsupervised, probabilistic classification</li>
<li>generative model (reverses the document generation process)</li>
</ul>
</section>
<section id="topic-modelling-algorithms" class="slide level2">
<h2>Topic modelling algorithms</h2>
<ul>
<li>LSA - <a href="https://asistdl.onlinelibrary.wiley.com/doi/10.1002/(SICI)1097-4571(199009)41:6%3C391::AID-ASI1%3E3.0.CO;2-9">Latent semantic analysis</a></li>
<li>LDA - Latent dirichlet allocation <span class="citation" data-cites="BleiNgEt2003_JMLR_3">(Blei, Ng, and Jordan 2003)</span></li>
<li>CTM - Correlated topic model <span class="citation" data-cites="BleiLafferty2007_AAS_1">(Blei and Lafferty 2007)</span></li>
<li>STM - Structural topic model <span class="citation" data-cites="RobertsStewart_et_2019_JSTATS_91">(Roberts, Stewart, and Tingley 2019)</span></li>
</ul>
</section>
<section id="stm-vs-vanilla-lda" class="slide level2">
<h2>STM vs “vanilla LDA”</h2>
<ul>
<li>STM extends CTM (i.e. assumes that topics are correlated)</li>
<li>STM can incorporate arbitrary document meta-data into the topic model</li>
</ul>
</section>
<section id="basic-text-mining-concepts" class="slide level2">
<h2>Basic text mining concepts</h2>
<ul>
<li>documents</li>
<li>corpus</li>
<li>tokens</li>
<li>terms</li>
</ul>
</section>
<section id="basic-steps" class="slide level2">
<h2>Basic steps</h2>
<ul>
<li>get documents to analyse</li>
<li>preprocess</li>
<li>create a corpus</li>
<li>tokenize</li>
<li>create document-term matrix</li>
<li><em>(evaluate alternative topic numbers)</em></li>
<li>decide on K, the number of topics, and fit a topic model</li>
<li><em>(validate semantic integrity of the topic model)</em></li>
</ul>
</section>
<section id="r-packages-to-use" class="slide level2">
<h2>R packages to use</h2>
<ul>
<li>quanteda</li>
<li>tidytext</li>
<li>(snowballc)</li>
<li>(spacyr)</li>
<li>stringr</li>
<li>stm</li>
</ul>
</section>
<section id="an-example-src-publications" class="slide level2">
<h2>An example: SRC publications</h2>
<p><img data-src="textmining-module_files/figure-markdown/unnamed-chunk-1-1.png" /></p>
</section>
<section id="a-simplistic-approach" class="slide level2 xs-small-pg-text">
<h2>A simplistic approach</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Term</th>
<th style="text-align: right;">N</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">social</td>
<td style="text-align: right;">265</td>
</tr>
<tr class="even">
<td style="text-align: left;">system</td>
<td style="text-align: right;">256</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ecolog</td>
<td style="text-align: right;">248</td>
</tr>
<tr class="even">
<td style="text-align: left;">ecosystem</td>
<td style="text-align: right;">243</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sustain</td>
<td style="text-align: right;">216</td>
</tr>
<tr class="even">
<td style="text-align: left;">global</td>
<td style="text-align: right;">175</td>
</tr>
<tr class="odd">
<td style="text-align: left;">chang</td>
<td style="text-align: right;">171</td>
</tr>
<tr class="even">
<td style="text-align: left;">manag</td>
<td style="text-align: right;">168</td>
</tr>
<tr class="odd">
<td style="text-align: left;">resili</td>
<td style="text-align: right;">167</td>
</tr>
</tbody>
</table>
</section>
<section id="ngrams-closer-to-topics" class="slide level2">
<h2>ngrams: closer to “topics”</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Term</th>
<th style="text-align: right;">N</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">social ecolog</td>
<td style="text-align: right;">165</td>
</tr>
<tr class="even">
<td style="text-align: left;">ecosystem servic</td>
<td style="text-align: right;">146</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ecolog system</td>
<td style="text-align: right;">81</td>
</tr>
<tr class="even">
<td style="text-align: left;">climat chang</td>
<td style="text-align: right;">80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">baltic sea</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">food system</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">planetari boundari</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">earth system</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">regim shift</td>
<td style="text-align: right;">32</td>
</tr>
</tbody>
</table>
</section>
<section id="what-about-temporal-trends" class="slide level2">
<h2>What about temporal trends?</h2>
<p><img src="textmining-module_files/figure-markdown/unnamed-chunk-4-1.png" width="50%" /></p>
</section>
<section id="topic-modelling-with-stm" class="slide level2">
<h2>Topic modelling with STM</h2>
<p>Questions:</p>
<ul>
<li>Which latent topics exists?</li>
<li>How promiment are they?</li>
<li>Is the topic prevalence influenced by document variables?</li>
<li>How are topics related?</li>
</ul>
</section>
<section id="create-a-document-corpus" class="slide level2">
<h2>Create a document corpus</h2>
<ul>
<li>Decide what constitutes a <strong>document</strong>.</li>
<li>Create a structured representation of documents with unique document identifiers.</li>
</ul>
</section>
<section id="document-corpus-with-quanteda" class="slide level2">
<h2>Document corpus with <code>quanteda</code></h2>
<pre class="r"><code># read the source documents
src_pubs &lt;- readr::read_csv(&quot;./topicmodels/data/src_pubs_annotated.csv&quot;,
                            col_types = &quot;c&quot;)

# create a document corpus using quanteda
pubs_corpus &lt;- src_pubs %&gt;%
  quanteda::corpus(docid_field = &quot;doc_id&quot;, text_field = &quot;abstract&quot;)</code></pre>
</section>
<section id="tokenize-with-quanteda" class="slide level2">
<h2>Tokenize with <code>quanteda</code></h2>
<pre class="r"><code># tokenize the document corpus (here we use words as tokens)
pubs_tokens &lt;- pubs_corpus %&gt;%
  quanteda::tokens(what = &quot;word&quot;,
                   remove_punct = TRUE,
                   remove_symbols = TRUE,
                   remove_numbers = TRUE,
                   remove_url = TRUE,
                   remove_separators = TRUE,
                   split_hyphens = TRUE)</code></pre>
</section>
<section id="create-a-document-feature-matrix-with-quanteda" class="slide level2">
<h2>Create a ‘document-feature matrix’ with <code>quanteda</code></h2>
<pre class="r"><code># create a document feature matrix and filter the
# features (here by removing common English stopwords)
pubs_dfm &lt;- pubs_tokens %&gt;%
  quanteda::dfm(tolower = TRUE) %&gt;%
  quanteda::dfm_remove(pattern = quanteda::stopwords(&quot;english&quot;)) %&gt;%
  quanteda::dfm_wordstem()</code></pre>
</section>
<section id="filter-documents-andor-terms" class="slide level2">
<h2>Filter documents and/or terms</h2>
<pre class="r"><code># we can apply additional filtering to the document feature matrix
pubs_dfm &lt;- pubs_dfm %&gt;%
  quanteda::dfm_remove(min_nchar = 2) %&gt;% 
  quanteda::dfm_trim(min_docfreq = 2, docfreq_type = &quot;count&quot;) %&gt;%  
  quanteda::dfm_subset(quanteda::ntoken(.) &gt; 2)</code></pre>
</section>
<section id="fit-the-stm-topic-model" class="slide level2">
<h2>Fit the STM topic model</h2>
<pre class="r"><code># create a native STM representation of the DFM
stm_docs &lt;- quanteda::convert(pubs_dfm, to = &quot;stm&quot;)

# we use 20 topics and consider two covariates
src_topics &lt;- stm(documents = stm_docs$documents,
                  vocab = stm_docs$vocab,
                  data = stm_docs$meta,
                  prevalence = ~ organisation_phase * src_author_role,
                  K = 20,
                  verbose = TRUE)</code></pre>
</section>
<section id="inspect-the-topic-model" class="slide level2">
<h2>Inspect the topic model</h2>
<pre class="r"><code># list most probable words (different groups of words are available)
summary(src_topics)

# plot the topic shares/probabilities using plot.STM
plot(src_topics, n = 5)</code></pre>
</section>
<section id="topics---terms" class="slide level2">
<h2>Topics - Terms</h2>
<pre class="r"><code>summary(src_topics)
#&gt; A topic model with 20 topics, 1906 documents and a 5104 word dictionary.
#&gt; Topic 1 Top Words:
#&gt;       Highest Prob: fisheri, fish, fisher, poverti, livelihood, scale, market 
#&gt;       FREX: poverti, fisheri, fisher, livelihood, trap, women, price 
#&gt;       Lift: ssf, amend, bigger, bought, buy, daw, homarus 
#&gt;       Score: fisheri, fisher, fish, poverti, market, trap, livelihood 
#&gt; Topic 2 Top Words:
#&gt;       Highest Prob: govern, institut, global, chang, polici, ocean, sustain 
#&gt;       FREX: corpor, institut, govern, innov, ocean, crise, compani 
#&gt;       Lift: gradualist, multin, philanthropi, preexist, anticipatori, cdm, fip 
#&gt;       Score: govern, ocean, corpor, institut, actor, coevolv, crise 
#&gt; Topic 3 Top Words:
#&gt;       Highest Prob: develop, sustain, scenario, goal, use, polici, assess 
#&gt;       FREX: amr, sdgs, goal, scenario, target, achiev, sdg 
#&gt;       Lift: bsms, carson, cbd, cousin, emptiv, fell, galvan 
#&gt;       Score: amr, sdgs, scenario, sdg, cbd, goal, ipb 
#&gt; Topic 4 Top Words:
#&gt;       Highest Prob: urban, citi, green, area, plan, infrastructur, use 
#&gt;       FREX: urban, citi, garden, gi, green, ug, infrastructur 
#&gt;       Lift: peri, antithesi, architect, barcelona, cemeteri, cogitatio, colour 
#&gt;       Score: urban, citi, green, garden, gi, ug, infrastructur 
#&gt; Topic 5 Top Words:
#&gt;       Highest Prob: climat, chang, risk, impact, carbon, global, adapt 
#&gt;       FREX: climat, risk, carbon, hazard, mitig, emiss, vulner 
#&gt;       Lift: grape, gtc, ipcc, wine, cdr, elsler, nc 
#&gt;       Score: climat, carbon, emiss, risk, hazard, adapt, chang 
#&gt; Topic 6 Top Words:
#&gt;       Highest Prob: research, sustain, knowledg, transform, scienc, approach, practic 
#&gt;       FREX: research, transdisciplinari, think, knowledg, disciplin, transform, interdisciplinari 
#&gt;       Lift: comment, doctor, espa, interdisciplinar, interrog, intract, journalist 
#&gt;       Score: transdisciplinari, transform, think, research, disciplin, career, engag 
#&gt; Topic 7 Top Words:
#&gt;       Highest Prob: social, ecolog, system, resili, complex, dynam, adapt 
#&gt;       FREX: resili, ecolog, social, ses, system, al, deal 
#&gt;       Lift: armitag, borrini, chapin, malin, unanticip, ostrom, berk 
#&gt;       Score: resili, social, ses, ecolog, system, adapt, theori 
#&gt; Topic 8 Top Words:
#&gt;       Highest Prob: ecosystem, servic, es, valu, well, scale, landscap 
#&gt;       FREX: es, servic, ecosystem, provis, bundl, off, landscap 
#&gt;       Lift: cum, ditch, fiber, firewood, photograph, québec, tell 
#&gt;       Score: servic, es, ecosystem, bundl, ebm, landscap, provis 
#&gt; Topic 9 Top Words:
#&gt;       Highest Prob: shift, fish, regim, reef, coral, sea, chang 
#&gt;       FREX: reef, coral, cucumb, iuu, vessel, regim, shift 
#&gt;       Lift: brew, breweri, fiji, iuu, mayott, ppcps, scuba 
#&gt;       Score: reef, coral, fish, iuu, cucumb, herbivor, vessel 
#&gt; Topic 10 Top Words:
#&gt;       Highest Prob: natur, human, scienc, data, springer, peopl, decis 
#&gt;       FREX: media, natur, mental, springer, behavior, children, switzerland 
#&gt;       Lift: duinen, hollands, ladder, nationa, nff, uenc, enjoy 
#&gt;       Score: natur, hnc, children, behavior, supplementari, abm, media 
#&gt; Topic 11 Top Words:
#&gt;       Highest Prob: govern, adapt, learn, actor, network, collabor, stakehold 
#&gt;       FREX: learn, collabor, student, actor, stakehold, particip, adapt 
#&gt;       Lift: acf, brunswick, classroom, igitur, man, misalign, multiactor 
#&gt;       Score: learn, actor, network, collabor, govern, adapt, student 
#&gt; Topic 12 Top Words:
#&gt;       Highest Prob: communiti, sustain, local, practic, peopl, cultur, divers 
#&gt;       FREX: biocultur, indigen, discours, redd, justic, sf, power 
#&gt;       Lift: artifact, biocultur, centralis, cocreat, dune, historic, linguist 
#&gt;       Score: indigen, redd, biocultur, sf, justic, forest, discours 
#&gt; Topic 13 Top Words:
#&gt;       Highest Prob: resourc, behaviour, communiti, cooper, user, individu, group 
#&gt;       FREX: behaviour, cooper, pool, user, attitud, game, harvest 
#&gt;       Lift: aggress, balines, everyon, hydrocarbon, megapitaria, methanogen, microorgan 
#&gt;       Score: cooper, behaviour, harvest, templ, attitud, cell, microbi 
#&gt; Topic 14 Top Words:
#&gt;       Highest Prob: model, network, data, dynam, analysi, approach, use 
#&gt;       FREX: node, model, statist, network, graph, simul, nonlinear 
#&gt;       Lift: barabási, brain, chaotic, crossov, eigenanalysi, ep, epla 
#&gt;       Score: network, model, node, simul, graph, brokerag, statist 
#&gt; Topic 15 Top Words:
#&gt;       Highest Prob: water, land, use, forest, region, basin, moistur 
#&gt;       FREX: moistur, water, evapor, watersh, rainfal, soil, precipit 
#&gt;       Lift: 2layer, arcswat, companion, envelop, eulerian, hydrochem, inund 
#&gt;       Score: water, moistur, evapor, precipit, rainfal, basin, hydrolog 
#&gt; Topic 16 Top Words:
#&gt;       Highest Prob: system, human, earth, boundari, global, planetari, tip 
#&gt;       FREX: planetari, earth, tip, boundari, safe, element, biospher 
#&gt;       Lift: chemist, destabilis, interglaci, biocid, biogeophys, domino, johan 
#&gt;       Score: earth, planetari, tip, anthropocen, boundari, safe, human 
#&gt; Topic 17 Top Words:
#&gt;       Highest Prob: food, product, system, agricultur, aquacultur, farm, environment 
#&gt;       FREX: farm, aquacultur, food, nutrit, certif, consumpt, product 
#&gt;       Lift: acid, affluent, agroecolog, aquafe, buck, cargil, carp 
#&gt;       Score: aquacultur, food, farm, seafood, nutrit, agricultur, farmer 
#&gt; Topic 18 Top Words:
#&gt;       Highest Prob: speci, habitat, biodivers, landscap, forest, divers, function 
#&gt;       FREX: patch, habitat, trait, speci, dispers, invas, plant 
#&gt;       Lift: acacia, amphibian, apart, macroinvertebr, plcas, allometr, arabl 
#&gt;       Score: speci, habitat, patch, trait, bird, forest, golf 
#&gt; Topic 19 Top Words:
#&gt;       Highest Prob: sea, baltic, ice, nutrient, indic, ecosystem, increas 
#&gt;       FREX: baltic, prey, seabird, oxygen, cod, ice, salin 
#&gt;       Lift: argentatus, auk, biotop, clupea, copepod, deglaci, dissolut 
#&gt;       Score: baltic, prey, ice, sea, sheet, predat, nutrient 
#&gt; Topic 20 Top Words:
#&gt;       Highest Prob: manag, conserv, implement, marin, approach, develop, success 
#&gt;       FREX: manag, conserv, implement, success, restor, protect, european 
#&gt;       Lift: bureaucraci, iea, virtu, appeal, ec, forsak, voluntarili 
#&gt;       Score: conserv, manag, marin, implement, protect, lake, plan</code></pre>
</section>
<section id="topic-shares" class="slide level2">
<h2>Topic shares</h2>
<p><img src="textmining-module_files/figure-markdown/unnamed-chunk-6-1.png" width="70%" /></p>
</section>
<section id="estimate-covariate-effects" class="slide level2">
<h2>Estimate covariate effects</h2>
<pre class="r"><code># this can be estimated for selected topics (here we evaluate all topics)
src_topic_effect &lt;- estimateEffect(1:20 ~ organisation_phase * src_author_role,
                                   stmobj = src_topics,
                                   metadata = stm_docs$meta, uncertainty = &quot;None&quot;)

# this summarises the regression stats for the estimated covriate effects
summary(src_topic_effect)</code></pre>
</section>
<section id="covariate-effects-summary" class="slide level2 xs-small-pg-text">
<h2>Covariate effects summary</h2>
<pre class="r"><code>summary(src_topic_effect)
#&gt; 
#&gt; Call:
#&gt; estimateEffect(formula = 1:20 ~ organisation_phase * src_author_role, 
#&gt;     stmobj = src_topics, metadata = stm_docs$meta, uncertainty = &quot;None&quot;)
#&gt; 
#&gt; 
#&gt; Topic 1:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.045324   0.009596   4.723
#&gt; organisation_phase                         -0.003682   0.003041  -1.211
#&gt; src_author_roleSRC lead                    -0.014385   0.021840  -0.659
#&gt; organisation_phase:src_author_roleSRC lead  0.014653   0.006775   2.163
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                2.49e-06 ***
#&gt; organisation_phase                           0.2261    
#&gt; src_author_roleSRC lead                      0.5102    
#&gt; organisation_phase:src_author_roleSRC lead   0.0307 *  
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 2:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.057513   0.009612   5.984
#&gt; organisation_phase                         -0.003671   0.003056  -1.201
#&gt; src_author_roleSRC lead                     0.042315   0.019474   2.173
#&gt; organisation_phase:src_author_roleSRC lead -0.003440   0.006080  -0.566
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                 2.6e-09 ***
#&gt; organisation_phase                           0.2298    
#&gt; src_author_roleSRC lead                      0.0299 *  
#&gt; organisation_phase:src_author_roleSRC lead   0.5716    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 3:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                -0.015880   0.011055  -1.436
#&gt; organisation_phase                          0.024623   0.003442   7.154
#&gt; src_author_roleSRC lead                    -0.026937   0.022539  -1.195
#&gt; organisation_phase:src_author_roleSRC lead  0.005000   0.007097   0.705
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                   0.151    
#&gt; organisation_phase                          1.2e-12 ***
#&gt; src_author_roleSRC lead                       0.232    
#&gt; organisation_phase:src_author_roleSRC lead    0.481    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 4:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.003175   0.010878   0.292
#&gt; organisation_phase                          0.013116   0.003363   3.900
#&gt; src_author_roleSRC lead                     0.037755   0.021558   1.751
#&gt; organisation_phase:src_author_roleSRC lead -0.015788   0.006744  -2.341
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                  0.7704    
#&gt; organisation_phase                         9.94e-05 ***
#&gt; src_author_roleSRC lead                      0.0801 .  
#&gt; organisation_phase:src_author_roleSRC lead   0.0193 *  
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 5:
#&gt; 
#&gt; Coefficients:
#&gt;                                              Estimate Std. Error t value
#&gt; (Intercept)                                 0.0567325  0.0088904   6.381
#&gt; organisation_phase                         -0.0004705  0.0027788  -0.169
#&gt; src_author_roleSRC lead                    -0.0315325  0.0178430  -1.767
#&gt; organisation_phase:src_author_roleSRC lead  0.0046685  0.0055989   0.834
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                 2.2e-10 ***
#&gt; organisation_phase                           0.8656    
#&gt; src_author_roleSRC lead                      0.0774 .  
#&gt; organisation_phase:src_author_roleSRC lead   0.4045    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 6:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.026958   0.011986   2.249
#&gt; organisation_phase                          0.016915   0.003802   4.449
#&gt; src_author_roleSRC lead                    -0.006071   0.027106  -0.224
#&gt; organisation_phase:src_author_roleSRC lead  0.006310   0.008456   0.746
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                  0.0246 *  
#&gt; organisation_phase                         9.13e-06 ***
#&gt; src_author_roleSRC lead                      0.8228    
#&gt; organisation_phase:src_author_roleSRC lead   0.4556    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 7:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.082062   0.010530   7.793
#&gt; organisation_phase                         -0.003702   0.003199  -1.157
#&gt; src_author_roleSRC lead                     0.060520   0.020999   2.882
#&gt; organisation_phase:src_author_roleSRC lead -0.009238   0.006536  -1.413
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                1.07e-14 ***
#&gt; organisation_phase                            0.247    
#&gt; src_author_roleSRC lead                       0.004 ** 
#&gt; organisation_phase:src_author_roleSRC lead    0.158    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 8:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.069651   0.010323   6.747
#&gt; organisation_phase                         -0.007289   0.003135  -2.325
#&gt; src_author_roleSRC lead                     0.032162   0.022434   1.434
#&gt; organisation_phase:src_author_roleSRC lead -0.008137   0.006939  -1.173
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                1.99e-11 ***
#&gt; organisation_phase                           0.0202 *  
#&gt; src_author_roleSRC lead                      0.1518    
#&gt; organisation_phase:src_author_roleSRC lead   0.2411    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 9:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.069354   0.011134   6.229
#&gt; organisation_phase                         -0.009190   0.003446  -2.667
#&gt; src_author_roleSRC lead                    -0.036831   0.023753  -1.551
#&gt; organisation_phase:src_author_roleSRC lead  0.004821   0.007433   0.649
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                5.77e-10 ***
#&gt; organisation_phase                          0.00772 ** 
#&gt; src_author_roleSRC lead                     0.12117    
#&gt; organisation_phase:src_author_roleSRC lead  0.51669    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 10:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.010874   0.008240   1.320
#&gt; organisation_phase                          0.010457   0.002563   4.081
#&gt; src_author_roleSRC lead                     0.031421   0.017911   1.754
#&gt; organisation_phase:src_author_roleSRC lead -0.013007   0.005656  -2.300
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                  0.1871    
#&gt; organisation_phase                         4.68e-05 ***
#&gt; src_author_roleSRC lead                      0.0796 .  
#&gt; organisation_phase:src_author_roleSRC lead   0.0216 *  
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 11:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.075546   0.011973   6.309
#&gt; organisation_phase                         -0.006989   0.003790  -1.844
#&gt; src_author_roleSRC lead                    -0.002697   0.026735  -0.101
#&gt; organisation_phase:src_author_roleSRC lead  0.008284   0.008236   1.006
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                3.48e-10 ***
#&gt; organisation_phase                           0.0653 .  
#&gt; src_author_roleSRC lead                      0.9197    
#&gt; organisation_phase:src_author_roleSRC lead   0.3146    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 12:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                -0.012093   0.008972  -1.348
#&gt; organisation_phase                          0.015666   0.002849   5.500
#&gt; src_author_roleSRC lead                     0.023387   0.020209   1.157
#&gt; organisation_phase:src_author_roleSRC lead -0.003201   0.006332  -0.506
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                   0.178    
#&gt; organisation_phase                         4.32e-08 ***
#&gt; src_author_roleSRC lead                       0.247    
#&gt; organisation_phase:src_author_roleSRC lead    0.613    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 13:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.022268   0.009767   2.280
#&gt; organisation_phase                          0.004140   0.003037   1.363
#&gt; src_author_roleSRC lead                     0.008876   0.019749   0.449
#&gt; organisation_phase:src_author_roleSRC lead -0.003988   0.006077  -0.656
#&gt;                                            Pr(&gt;|t|)  
#&gt; (Intercept)                                  0.0227 *
#&gt; organisation_phase                           0.1730  
#&gt; src_author_roleSRC lead                      0.6532  
#&gt; organisation_phase:src_author_roleSRC lead   0.5117  
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 14:
#&gt; 
#&gt; Coefficients:
#&gt;                                              Estimate Std. Error t value
#&gt; (Intercept)                                 0.0605840  0.0118124   5.129
#&gt; organisation_phase                          0.0008032  0.0037433   0.215
#&gt; src_author_roleSRC lead                    -0.0297799  0.0246842  -1.206
#&gt; organisation_phase:src_author_roleSRC lead -0.0016320  0.0076814  -0.212
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                3.21e-07 ***
#&gt; organisation_phase                            0.830    
#&gt; src_author_roleSRC lead                       0.228    
#&gt; organisation_phase:src_author_roleSRC lead    0.832    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 15:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.081345   0.011605   7.009
#&gt; organisation_phase                         -0.010522   0.003679  -2.860
#&gt; src_author_roleSRC lead                    -0.032706   0.024016  -1.362
#&gt; organisation_phase:src_author_roleSRC lead  0.008302   0.007447   1.115
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                3.32e-12 ***
#&gt; organisation_phase                          0.00428 ** 
#&gt; src_author_roleSRC lead                     0.17340    
#&gt; organisation_phase:src_author_roleSRC lead  0.26505    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 16:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.029942   0.010524   2.845
#&gt; organisation_phase                          0.007303   0.003250   2.247
#&gt; src_author_roleSRC lead                     0.055802   0.022512   2.479
#&gt; organisation_phase:src_author_roleSRC lead -0.015447   0.007074  -2.184
#&gt;                                            Pr(&gt;|t|)   
#&gt; (Intercept)                                 0.00449 **
#&gt; organisation_phase                          0.02474 * 
#&gt; src_author_roleSRC lead                     0.01327 * 
#&gt; organisation_phase:src_author_roleSRC lead  0.02911 * 
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 17:
#&gt; 
#&gt; Coefficients:
#&gt;                                              Estimate Std. Error t value
#&gt; (Intercept)                                 0.0266516  0.0126134   2.113
#&gt; organisation_phase                          0.0095863  0.0038842   2.468
#&gt; src_author_roleSRC lead                    -0.0123350  0.0263262  -0.469
#&gt; organisation_phase:src_author_roleSRC lead -0.0003028  0.0081606  -0.037
#&gt;                                            Pr(&gt;|t|)  
#&gt; (Intercept)                                  0.0347 *
#&gt; organisation_phase                           0.0137 *
#&gt; src_author_roleSRC lead                      0.6394  
#&gt; organisation_phase:src_author_roleSRC lead   0.9704  
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 18:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.103778   0.011502   9.023
#&gt; organisation_phase                         -0.019904   0.003614  -5.507
#&gt; src_author_roleSRC lead                    -0.024972   0.022688  -1.101
#&gt; organisation_phase:src_author_roleSRC lead  0.002927   0.007069   0.414
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                 &lt; 2e-16 ***
#&gt; organisation_phase                         4.15e-08 ***
#&gt; src_author_roleSRC lead                       0.271    
#&gt; organisation_phase:src_author_roleSRC lead    0.679    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 19:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.133222   0.013488   9.877
#&gt; organisation_phase                         -0.027272   0.004214  -6.472
#&gt; src_author_roleSRC lead                    -0.093331   0.028418  -3.284
#&gt; organisation_phase:src_author_roleSRC lead  0.022324   0.008880   2.514
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                 &lt; 2e-16 ***
#&gt; organisation_phase                         1.22e-10 ***
#&gt; src_author_roleSRC lead                     0.00104 ** 
#&gt; organisation_phase:src_author_roleSRC lead  0.01202 *  
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#&gt; 
#&gt; 
#&gt; Topic 20:
#&gt; 
#&gt; Coefficients:
#&gt;                                             Estimate Std. Error t value
#&gt; (Intercept)                                 0.075540   0.007150  10.564
#&gt; organisation_phase                         -0.010602   0.002239  -4.735
#&gt; src_author_roleSRC lead                     0.020996   0.015314   1.371
#&gt; organisation_phase:src_author_roleSRC lead -0.004167   0.004762  -0.875
#&gt;                                            Pr(&gt;|t|)    
#&gt; (Intercept)                                 &lt; 2e-16 ***
#&gt; organisation_phase                         2.35e-06 ***
#&gt; src_author_roleSRC lead                       0.171    
#&gt; organisation_phase:src_author_roleSRC lead    0.382    
#&gt; ---
#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</section>
<section id="example-1-topics-over-time" class="slide level2">
<h2>Example 1: Topics over time</h2>
<p><img src="textmining-module_files/figure-markdown/unnamed-chunk-8-1.png" width="70%" /></p>
</section>
<section id="example-2-src-lead-authorship" class="slide level2">
<h2>Example 2: SRC lead authorship</h2>
<p><img src="textmining-module_files/figure-markdown/unnamed-chunk-9-1.png" width="70%" /></p>
</section>
<section id="example-3-src-lead-authorship" class="slide level2">
<h2>Example 3: SRC lead authorship</h2>
<p><img src="textmining-module_files/figure-markdown/unnamed-chunk-10-1.png" width="70%" /></p>
</section>
<section id="example-4-combined-effects" class="slide level2">
<h2>Example 4: Combined effects</h2>
<p><img src="textmining-module_files/figure-markdown/unnamed-chunk-11-1.png" width="70%" /></p>
</section>
<section id="exercise" class="slide level2">
<h2>Exercise</h2>
<ol type="1">
<li>fit the model with a different K</li>
<li>test a different prevalence formula (for example <code>n_authors</code> or <code>open_access</code>)</li>
<li>estimate the covariate effect for this model</li>
<li>adapt the examples in the script for other topics and covariates</li>
</ol>
<p><strong><a href="https://github.com/sdaume/r-course-module-3/topicmodels/topicmodel.R">Sample code</a></strong></p>
</section>
<section><section id="thank-you" class="title-slide slide level1"><h1>Thank You!</h1></section><section id="key-resources" class="slide level2">
<h2>Key Resources</h2>
<ul>
<li><a href="http://quanteda.io/">quanteda R package</a></li>
<li><a href="https://www.jstatsoft.org/article/view/v091i02">stm: An R Package for Structural Topic Models</a> <span class="citation" data-cites="XieAllaire_et_2022">(Xie, Allaire, and Grolemund 2022)</span></li>
<li><a href="https://github.com/chainsawriot/oolong">oolong R package</a></li>
</ul>
</section><section id="references" class="slide level2">
<h2>References</h2>
<div id="refs" role="doc-bibliography">
<div id="ref-BleiLafferty2007_AAS_1">
<p>Blei, David M., and John D. Lafferty. 2007. “A correlated topic model of Science.” <em>The Annals of Applied Statistics</em> 1 (1): 17–35. <a href="http://projecteuclid.org/euclid.aoas/1183143727">http://projecteuclid.org/euclid.aoas/1183143727</a>.</p>
</div>
<div id="ref-BleiNgEt2003_JMLR_3">
<p>Blei, David M., Andrew Y. Ng, and Michael I. Jordan. 2003. “Latent dirichlet allocation.” <em>The Journal of Machine Learning Research</em> 3 (March): 993–1022. <a href="http://dl.acm.org/citation.cfm?id=944919.944937">http://dl.acm.org/citation.cfm?id=944919.944937</a>.</p>
</div>
<div id="ref-RobertsStewart_et_2019_JSTATS_91">
<p>Roberts, Margaret E., Brandon M. Stewart, and Dustin Tingley. 2019. “Stm: An R package for structural topic models.” <em>Journal of Statistical Software</em> 91 (1): 1–40. <a href="https://doi.org/10.18637/jss.v091.i02">https://doi.org/10.18637/jss.v091.i02</a>.</p>
</div>
<div id="ref-XieAllaire_et_2022">
<p>Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2022. “R Markdown: The Definitive Guide.” <a href="https://bookdown.org/yihui/rmarkdown/">https://bookdown.org/yihui/rmarkdown/</a>.</p>
</div>
</div>
</section><section id="colophon" class="slide level2 colophon">
<h2>Colophon</h2>
<p><strong>SRC PhD R course Module 9 — Structural Topic Modeling"</strong> by <em>Stefan Daume</em></p>
<p> </p>
<p>Presented on 16. March 2023.</p>
<p> </p>
<p>This presentation can be cited using: <em>doi:…</em></p>
<p> </p>
<p><strong>PRESENTATION DETAILS</strong></p>
<p><strong>Author/Affiliation:</strong> Stefan Daume, Stockholm Resilience Centre, Stockholm University</p>
<p><strong>Presentation URL:</strong> <a href="https://sdaume.github.io/r-course-module-3/slides/textmining-module.html" class="uri">https://sdaume.github.io/r-course-module-3/slides/textmining-module.html</a></p>
<p><strong>Presentation Source:</strong> [TBD]</p>
<p><strong>Presentation PDF:</strong> [TBD]</p>
<p> </p>
<p><strong>CREDITS &amp; LICENSES</strong></p>
<p>This presentation is delivered with the help of several free and open source tools and libraries. It utilises the <a href="https://revealjs.com/">reveal.js</a> presentation framework and has been created using <a href="https://rmarkdown.rstudio.com">RMarkdown</a>, <a href="https://yihui.name/knitr/">knitr</a>, <a href="https://www.rstudio.com">RStudio</a> and <a href="https://pandoc.org/">Pandoc</a>. <a href="https://highlightjs.org">highlight.js</a> provides syntax highlighting for code sections. <a href="https://www.mathjax.org">MathJax</a> supports the rendering of mathematical notations. PDF and JPG copies of this presentation were generated with <a href="https://github.com/astefanutti/decktape">DeckTape</a>. Please note the respective licenses of these tools and libraries.</p>
<p> </p>
<p>If not noted and attributed otherwise, the contents (text, charts, images) of this presentation are <strong>Copyright © 2023 of the Author</strong> and provided under a <em>CC BY 4.0</em> public domain license.</p>
</section></section>
    </div>
  </div>

  <script src="./reveal.js-3.6.0/lib/js/head.min.js"></script>
  <script src="./reveal.js-3.6.0/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',
        // Push each slide change to the browser history
        history: true,
        // Transition style
        transition: 'none', // none/fade/slide/convex/concave/zoom
        math: {
          mathjax: './MathJax-2.7.5/MathJax.js',
          config: 'TeX-MML-AM_SVG-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: './reveal.js-3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: './reveal.js-3.6.0/plugin/zoom-js/zoom.js', async: true },
          { src: './reveal.js-3.6.0/plugin/math/math.js', async: true },
          { src: './reveal.js-3.6.0/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
